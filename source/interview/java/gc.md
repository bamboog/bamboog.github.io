### GC
- 那些需要回收---什么时候回收
  - 死了的对象，怎么判断对象死了？
    - 引用计数，相互引用
    - 可达分析
      - gc roots
      - 静态属性引用，虚拟机栈引用，方法区常量引用，本地方法引用
      - 强，软，弱，虚
- 指标
  - 用户线程的停顿时间
  - 吞吐量--- cpu运行用户代码时间/(运行用户代码时间+垃圾收集时间) ---高效利用cpu
  - g1追求低停顿，gc次数变高，吞吐量下降，停顿时间可控
- 如何回收
  - 回收算法
    - 标记-清除
    - 复制
    - 标记-整理
    -
  - （垃圾回收)：把对象分为年青代(Young)、年老代(Tenured)、持久代(Perm)
    - eden:form:to 8:1:1
    - Young:Tenured 1:2
    - jstat -gcutil

  - 分代收集

  - 收集器
    - Serial  parnew  parallel  
    - cms Serialold parallelold
    - g1
      - 标记整理
      - region 复制
      - 预测停顿时间
        - 分成大小相等的region，跟踪每个region，计算垃圾堆积价值大小，维护优先列表，根据想要的收集时间，确认先收集那些region
        - region与region的对象引用，需要全部扫描，解决：remembered set记录引用关系，避免全部扫描
      -
    - zgc
      - ZGC的设计目标是：支持TB级内存容量，暂停时间低（<10ms），对整个程序吞吐量的影响小于15%。
