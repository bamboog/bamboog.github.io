---
layout: post
title: JVM
date: 2018-04-25
tags: JAVA
---
## JVM

- #### 写在前面
  JVM--Java为了多平台做的runtime,我理解除了最开始的多平台，还有一点，自主隔离/优化自己的程序，譬如gc,锁等；因为运行首先是在自己的虚拟机上，自主性是一个非常大的块；当然，带来的问题就是多了一层，性能相关就有所折扣；

- #### Class类文件结构
  - 结构
    - 魔数版本
    - 常量池
    - 访问标识
    - 索引
    - 字段表
    - 方法表
    - 属性表
  - 字节码指令  
    - 加载存储
    - 运算
    - 类型转换
    - 对象创建访问
    - 操作数栈管理
    - 控制转移
    - 方法调用返回
    - 异常处理
  -     

- #### 加载执行
  - 加载
    - 加载验证准备
    - 解析
    - 初始化
    - 加载器
    - 双亲委派-破坏
  - 执行
    - 栈帧
    - 方法调用

- #### 编译解释
- #### 运行
- #### 回收
  - 引用可达
  - 收集算法
  - hotspot
  - 收集器
  - 内存分配回收
  
- #### java线程


- #### 自己动手写jvm
  - 搜索class路径
  - 解析class文件--
  - 运行时区存放---堆，栈
    - pc
    - java虚拟机栈
    - 本地方法栈
    - Java堆
    - 方法区
    - 运行时常量池
    -

  - 指令集
  -
